{
  "comments": [
    {
      "key": {
        "uuid": "ec45fe2f_eabf976c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2019-01-25T21:04:51Z",
      "side": 1,
      "message": "I think it\u0027s ok, but what do you mean by invalidate the labels? Because we don\u0027t dex2oat anymore in the app process we should be ok to relabel the entire dir.",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 19,
        "endChar": 51
      },
      "revId": "ac1450b42516ab8cb815d526fa5d3b1c95b7bd63",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5c40ff6c_c8e47832",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2019-01-25T21:51:04Z",
      "side": 1,
      "message": "What I mean is that if you do restorecon on oat/, it will pick \"type\" label (app_data_file) and apply it to everything inside. To apply \"execType\", you have to invoke restorecon with a flag.\n\nScenario: App has two secondary dex files. We invoke dexopt on the first, create all files, recursively restorecon its oat/ to \"type\" and then set the oat file to \"execType\". Now invoke dexopt on second secondary dex, recursively restorecon its oat/ to \"type\" (invalidating the label of the first oat file) and set label of the second oat file to \"execType\".",
      "parentUuid": "ec45fe2f_eabf976c",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 19,
        "endChar": 51
      },
      "revId": "ac1450b42516ab8cb815d526fa5d3b1c95b7bd63",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c17723e_796f4d9e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2019-01-25T22:01:42Z",
      "side": 1,
      "message": "So essentially you reset the labels to the same value. Is that a problem from selinux perspective?",
      "parentUuid": "5c40ff6c_c8e47832",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 19,
        "endChar": 51
      },
      "revId": "ac1450b42516ab8cb815d526fa5d3b1c95b7bd63",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}