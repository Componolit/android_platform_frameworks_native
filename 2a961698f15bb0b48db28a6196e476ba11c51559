{
  "comments": [
    {
      "key": {
        "uuid": "1d2da469_f0432b75",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2507,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-22T09:14:30Z",
      "side": 1,
      "message": "why treat this differently than denied?",
      "range": {
        "startLine": 2507,
        "startChar": 8,
        "endLine": 2507,
        "endChar": 33
      },
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a16ce5b_41c4e8b3",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2507,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-22T09:30:09Z",
      "side": 1,
      "message": "shouldn\u0027t we wait X seconds for consent before we get here ? (if that\u0027s already happening, where ?)",
      "parentUuid": "1d2da469_f0432b75",
      "range": {
        "startLine": 2507,
        "startChar": 8,
        "endLine": 2507,
        "endChar": 33
      },
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79081f36_1e3c36d1",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2507,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-22T09:48:40Z",
      "side": 1,
      "message": "This runs only after the BR is done (and the dialog is shown before it starts), but I think it\u0027s still better to be explicit (and only continue when we\u0027ve reached one of the states?).",
      "parentUuid": "4a16ce5b_41c4e8b3",
      "range": {
        "startLine": 2507,
        "startChar": 8,
        "endLine": 2507,
        "endChar": 33
      },
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7353bb90_bc10f98b",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2507,
      "author": {
        "id": 1336554
      },
      "writtenOn": "2019-01-22T10:15:15Z",
      "side": 1,
      "message": "Bugreport generation takes several seconds. This function is the last step in finalizing the zip file. The consent dialog is modal as far as I know. If the user has not responded yet I think it\u0027s reasonable to time out. The file is still available in the internal directory (need to document that in the API) and the user can go and pull it manually. wdyt?\n\nThe consent is for sharing, not for triggering bugreports.",
      "parentUuid": "1d2da469_f0432b75",
      "range": {
        "startLine": 2507,
        "startChar": 8,
        "endLine": 2507,
        "endChar": 33
      },
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "557de44f_478b3736",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2507,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-23T14:41:56Z",
      "side": 1,
      "message": "My main objection to this is that the definition of \"timed_out\" depends on how long bug report generation takes (instead of being fixed). I think that\u0027s going to cause a lot of trouble since it\u0027s highly variable and non-deterministic.\n\nIf you don\u0027t want to fix it in this change, that\u0027s OK but i\u0027d put it high on the list of things that need to be fixed (and definitely for Q).",
      "parentUuid": "7353bb90_bc10f98b",
      "range": {
        "startLine": 2507,
        "startChar": 8,
        "endLine": 2507,
        "endChar": 33
      },
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f1d344f2_d2b879ff",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2512,
      "author": {
        "id": 1014443
      },
      "writtenOn": "2019-01-22T09:30:09Z",
      "side": 1,
      "message": "The fact that !constent_timed_out \u003d\u003d approved is confusing. I think you can simplify all of it by changing the booleans in the callback to a single enum ConsentState { APPROVED, DENIED, UNAVAILABLE }. This would make a lot of the code easier to read, IMO.",
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d762068_58da949d",
        "filename": "cmds/dumpstate/dumpstate.cpp",
        "patchSetId": 7
      },
      "lineNbr": 2512,
      "author": {
        "id": 1336554
      },
      "writtenOn": "2019-01-22T10:15:15Z",
      "side": 1,
      "message": "I considered it too but didn\u0027t do it because it\u0027s looked weird to have if statements with enums. But you are right it\u0027s a good trade-off.",
      "parentUuid": "f1d344f2_d2b879ff",
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adcfca41_776ef7bf",
        "filename": "cmds/dumpstate/dumpstate.h",
        "patchSetId": 7
      },
      "lineNbr": 457,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2019-01-22T09:14:30Z",
      "side": 1,
      "message": "I think you need to extend BnIncidentAuthListener instead - then you can get rid of the onAsBinder().",
      "range": {
        "startLine": 457,
        "startChar": 48,
        "endLine": 457,
        "endChar": 69
      },
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5681d311_8e24709a",
        "filename": "cmds/dumpstate/dumpstate.h",
        "patchSetId": 7
      },
      "lineNbr": 457,
      "author": {
        "id": 1336554
      },
      "writtenOn": "2019-01-22T10:15:15Z",
      "side": 1,
      "message": "Thanks! I did try that at one point, but maybe I had a typo.",
      "parentUuid": "adcfca41_776ef7bf",
      "range": {
        "startLine": 457,
        "startChar": 48,
        "endLine": 457,
        "endChar": 69
      },
      "revId": "2a961698f15bb0b48db28a6196e476ba11c51559",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}